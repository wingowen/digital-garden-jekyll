# MySQL

## 索引

索引本质是一种排好序的数据结构。

数据结构
- 二叉树，可能退化成链表，特别是自增数据。
- 红黑树，二叉平衡数，有自我平衡的功能，效率上好于单纯的二叉树，但还是有可能存在层数过多的问题。
- BTree，存储索引和数据，一个节点可以存储多个索引。
- B+Tree，非叶子节点都是冗余索引，直接存内存；非叶子节点保存索引和数据信息（不同引擎数据存储方式不同）。  

聚集 / 非聚集
- 非聚集索引 MyISAM，索引和数据分开存储，分别存在 MYI 和 MYD 文件。
- 聚集索引 InnoDB，合并存储。

为什么 InnoDB 建议有整型的主键，为何要自增？
- 需要索引建立 B+Tree 结构。
- 用于比大小，整型比较快。
- 自增插入不会导致节点分裂，直接顺序插入到最后。

联合索引
- 查询是否走索引，按照最左前缀原则（因为前面的字段有序，后面的字段才会有序）。

## 事务



