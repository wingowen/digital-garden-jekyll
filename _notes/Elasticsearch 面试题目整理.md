Elasticsearch 是一个基于 Lucene 的分布式搜索引擎，主要用于全文检索、结构化搜索和分析。

**Elasticsearch 中的搜索过程是怎样的？**
- **query 阶段**：定位到位置，但不取。
    - 假设一个索引数据有 5 主+1 副本 共 10 分片，一次请求会命中（主或者副本分片中）的一个。
    - 每个分片在本地进行查询，结果返回到本地有序的优先队列中。
    - 第 2 步骤的结果发送到协调节点，协调节点产生一个全局的排序列表。
- **fetch 阶段**：取数据。
    - 路由节点获取所有文档，返回给客户端。